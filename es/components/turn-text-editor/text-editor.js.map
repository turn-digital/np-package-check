{"version":3,"file":"text-editor.js","names":["LitElement","html","prefix","styles","property","carbonElement","customElement","TextEditor","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","type","Boolean","key","value","String","Object","combinedEditorConfig","defaultConfig","language","language_url","branding","menubar","highlight_on_focus","promotion","min_height","max_height","external_plugins","pluginId1","pluginId2","_objectSpread","editorConfig","render","configKey","editorId","window","localStorage","setItem","textEditorData","_t","_","readonly","static"],"sources":["components/turn-text-editor/text-editor.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { prefix } from '../../globals/settings';\nimport styles from './text-editor.scss';\nimport { property } from 'lit/decorators.js';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport './tinymce-webcomponent.js';\n\n/**\n * Related documents.\n *\n * @element cds-text-editor\n */\n\n@customElement(`${prefix}-text-editor`)\nclass TextEditor extends LitElement {\n  @property({ type: Boolean }) readonly = false;\n  @property({ type: String }) editorId = 'editor';\n  @property({ type: String })\n  textEditorData = ``;\n  @property({ type: Object }) editorConfig = {};\n\n  get combinedEditorConfig() {\n    const defaultConfig = {\n      language: 'lv',\n      language_url: 'https://demo.turn.lv/cfla_dist/assets/tinymce/langs/lv.js',\n      branding: false,\n      menubar: false,\n      highlight_on_focus: true,\n      promotion: true,\n      min_height: 200,\n      max_height: 500,\n      external_plugins: {\n        pluginId1:\n          'https://demo.turn.lv/cfla_dist/assets/tinymce/plugins/length_validation/plugin.min.js',\n        pluginId2:\n          'https://demo.turn.lv/cfla_dist/assets/tinymce/plugins/server_request/plugin.min.js',\n      },\n    };\n\n    // Merge defaultConfig with this.editorConfig, prioritizing properties from editorConfig\n\n    return { ...defaultConfig, ...this.editorConfig };\n  }\n  render() {\n    //@ts-ignore\n    const configKey = `config_${this.editorId}`;\n    window[configKey] = this.combinedEditorConfig;\n\n    window.localStorage.setItem(\n      `${this.editorId}_content`,\n      this.textEditorData\n    );\n\n    return html`\n      <tinymce-editor\n        id=\"${this.editorId}\"\n        config=\"${'config_' + this.editorId}\"\n        statusbar: false\n        autoresize_bottom_margin: 5\n        ?readonly=\"${this.readonly}\"\n        toolbar=\"blocks | bold italic underline | numlist bullist | outdent indent | alignleft aligncenter alignright alignjustify | link removeformat fullscreen\"\n        plugins=\"length_validation server_request autosave save autolink lists link image charmap preview anchor pagebreak code visualchars wordcount fullscreen autoresize\"\n        content_css=\"//www.tiny.cloud/css/codepen.min.css\"\n        promotion=\"false\">\n        ${this.textEditorData}\n      </tinymce-editor>\n    `;\n  }\n\n  static styles = styles;\n}\n\nexport default TextEditor;\n"],"mappings":"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"}